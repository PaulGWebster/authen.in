{"vars":[{"name":"IPC::Run3::ProfReporter","kind":2,"definition":1,"line":0},{"kind":13,"name":"$VERSION","containerName":null,"line":2},{"containerName":"","line":37,"name":"strict","kind":2},{"localvar":"my","name":"$loaded_by","kind":13,"containerName":null,"definition":"my","line":39},{"children":[{"name":"$loaded_by","kind":13,"line":42,"containerName":"import"}],"range":{"end":{"character":9999,"line":43},"start":{"character":0,"line":41}},"name":"import","kind":12,"containerName":"IPC::Run3::ProfReporter","definition":"sub","line":41},{"line":46,"containerName":null,"definition":"my","localvar":"my","kind":13,"name":"@caller"},{"line":47,"containerName":null,"definition":"my","localvar":"my","name":"$i","kind":13},{"line":47,"containerName":null,"kind":13,"name":"%i"},{"definition":"my","containerName":null,"line":48,"kind":13,"name":"@c","localvar":"my"},{"name":"$i","kind":13,"containerName":null,"line":48},{"kind":13,"name":"@c","line":49,"containerName":null},{"containerName":null,"line":50,"name":"@caller","kind":13},{"kind":13,"name":"@c","line":50,"containerName":null},{"containerName":null,"line":53,"name":"@caller","kind":13},{"name":"@caller","kind":13,"containerName":null,"line":54},{"containerName":"Run3::ProfLogReader","line":56,"kind":12,"name":"IPC"},{"kind":12,"name":"Getopt","containerName":"Long","line":57},{"containerName":null,"definition":"my","line":58,"localvar":"my","name":"$app","kind":13},{"line":58,"containerName":null,"kind":13,"name":"$run"},{"name":"Getopt","kind":12,"line":60,"containerName":"Long::GetOptions"},{"name":"$app","kind":13,"containerName":null,"line":61},{"line":62,"containerName":null,"kind":13,"name":"$run"},{"line":65,"containerName":null,"name":"$app","kind":13},{"line":65,"containerName":null,"name":"$run","kind":13},{"containerName":null,"line":65,"kind":13,"name":"$app"},{"containerName":null,"line":65,"kind":13,"name":"%run"},{"containerName":null,"definition":"my","line":68,"localvar":"my","kind":13,"name":"$r"},{"kind":12,"name":"IPC","containerName":"Run3::ProfLogReader","line":68},{"containerName":"IPC::Run3::ProfReporter","line":68,"name":"new","kind":12},{"kind":12,"name":"Source","line":69},{"line":70,"name":"Handler","kind":12},{"kind":13,"name":"$loaded_by","containerName":null,"line":70},{"kind":12,"name":"new","line":70,"containerName":"IPC::Run3::ProfReporter"},{"line":71,"kind":12,"name":"Source"},{"line":72,"kind":12,"name":"app_report"},{"containerName":null,"line":72,"name":"$app","kind":13},{"line":73,"kind":12,"name":"run_report"},{"kind":13,"name":"$run","line":73,"containerName":null},{"line":76,"containerName":null,"kind":13,"name":"$r"},{"kind":12,"name":"read_all","line":76,"containerName":"IPC::Run3::ProfReporter"},{"containerName":"IPC::Run3::ProfReporter","definition":"sub","line":91,"children":[{"line":92,"definition":"my","containerName":"new","kind":13,"name":"$class","localvar":"my"},{"kind":13,"name":"$self","localvar":"my","line":93,"definition":"my","containerName":"new"},{"containerName":"new","line":93,"kind":13,"name":"$class"},{"name":"$self","kind":13,"containerName":"new","line":94},{"kind":13,"name":"$self","line":94,"containerName":"new"},{"line":95,"containerName":"new","kind":13,"name":"$self"},{"name":"$self","kind":13,"containerName":"new","line":95},{"name":"$self","kind":13,"line":97,"containerName":"new"}],"range":{"end":{"character":9999,"line":98},"start":{"line":91,"character":0}},"kind":12,"name":"new"},{"name":"app_report","kind":12,"line":94},{"name":"run_report","kind":12,"line":94},{"name":"app_report","kind":12,"line":95},{"kind":12,"name":"run_report","line":95},{"children":[],"range":{"start":{"line":110,"character":0},"end":{"line":110,"character":9999}},"kind":12,"name":"handle_app_call","containerName":"IPC::Run3::ProfReporter","definition":"sub","line":110},{"name":"handle_app_exit","kind":12,"range":{"end":{"line":111,"character":9999},"start":{"character":0,"line":111}},"children":[],"line":111,"definition":"sub","containerName":"IPC::Run3::ProfReporter"},{"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":113,"range":{"start":{"character":0,"line":113},"end":{"character":9999,"line":113}},"children":[],"kind":12,"name":"handle_run_exit"},{"detail":"()","range":{"end":{"character":9999,"line":138},"start":{"character":0,"line":134}},"signature":{"parameters":[],"documentation":"1;\npackage IPC::Run3::ProfReporter;\n\n$VERSION = 0.048;\n\n=head1 NAME\n\nIPC::Run3::ProfReporter - base class for handling profiling data\n\n=head1 SYNOPSIS\n\n=head1 DESCRIPTION\n\nSee L<IPC::Run3::ProfPP|IPC::Run3::ProfPP> and for an example subclass.\n\nThis class just notes and accumulates times; subclasses use methods like\n\"handle_app_call\", \"handle_run_exit\" and \"handle_app_exit\" to emit reports on\nit.  The default methods for these handlers are noops.\n\nIf run from the command line, a reporter will be created and run on\neach logfile given as a command line parameter or on run3.out if none\nare given.\n\nThis allows reports to be run like:\n\n    perl -MIPC::Run3::ProfPP -e1\n    perl -MIPC::Run3::ProfPP -e1 foo.out bar.out\n\nUse \"-\" to read from STDIN (the log file format is meant to be moderately\ngreppable):\n\n    grep \"^cvs \" run3.out perl -MIPC::Run3::ProfPP -e1 -\n\nUse --app to show only application level statistics (ie don't emit\na report section for each command run).\n\n\nuse strict;\n\nmy $loaded_by;\n\nsub import {\n    $loaded_by = shift;\n}\n\nEND {\n    my @caller;\n    for ( my $i = 0;; ++$i ) {\n        my @c = caller $i;\n        last unless @c;\n        @caller = @c;\n    }\n\n    if ( $caller[0] eq \"main\"\n        && $caller[1] eq \"-e\"\n    ) {\n        require IPC::Run3::ProfLogReader;\n        require Getopt::Long;\n        my ( $app, $run );\n\n        Getopt::Long::GetOptions(\n            \"app\" => \\$app,\n            \"run\" => \\$run,\n        );\n\n        $app = 1, $run = 1 unless $app || $run;\n\n        for ( @ARGV ? @ARGV : \"\" ) {\n            my $r = IPC::Run3::ProfLogReader->new(\n                Source  => $_,\n                Handler => $loaded_by->new(\n                    Source => $_,\n                    app_report => $app,\n                    run_report => $run,\n                ),\n            );\n            $r->read_all;\n        }\n    }\n}\n\n=head1 METHODS\n\n\n* C<< IPC::Run3::ProfReporter->new >>\n\nReturns a new profile reporting object.\n\n\nsub new {\n    my $class = ref $_[0] ? ref shift : shift;\n    my $self = bless { @_ }, $class;\n    $self->{app_report} = 1, $self->{run_report} = 1\n        unless $self->{app_report} || $self->{run_report};\n\n    return $self;\n}\n\n* C<< $reporter->handle_app_call( ... ) >>\n\n* C<< $reporter->handle_app_exit( ... ) >>\n\n* C<< $reporter->handle_run_exit( ... ) >>\n\nThese methods are called by the handled events (see below).\n\n\nsub handle_app_call {}\nsub handle_app_exit {}\n\nsub handle_run_exit {}\n\n* C<< $reporter->app_call(\\@cmd, $time) >>\n\n* C<< $reporter->app_exit($time) >>\n\n* C<< $reporter->run_exit(@times) >>\n\n   $self->app_call( $time );\n   my $time = $self->get_app_call_time;\n\nSets the time (in floating point seconds) when the application, run3(),\nor system() was called or exited.  If no time parameter is passed, uses\nIPC::Run3's time routine.\n\nUse get_...() to retrieve these values (and _accum values, too).  This\nis a separate method to speed the execution time of the setters just a\nbit.","label":"app_call()"},"name":"app_call","containerName":"IPC::Run3::ProfReporter","definition":"sub","line":134,"children":[{"localvar":"my","name":"$self","kind":13,"line":135,"containerName":"app_call","definition":"my"},{"line":136,"containerName":"app_call","kind":13,"name":"$self"},{"name":"$self","kind":13,"containerName":"app_call","line":136},{"kind":13,"name":"$self","line":137,"containerName":"app_call"},{"name":"handle_app_call","kind":12,"containerName":"app_call","line":137},{"kind":13,"name":"$self","containerName":"app_call","line":137}],"kind":12},{"line":136,"name":"app_cmd","kind":12},{"name":"app_call_time","kind":12,"line":136},{"kind":12,"name":"app_report","line":137},{"range":{"start":{"line":140,"character":0},"end":{"line":144,"character":9999}},"children":[{"definition":"my","containerName":"app_exit","line":141,"name":"$self","kind":13,"localvar":"my"},{"kind":13,"name":"$self","containerName":"app_exit","line":142},{"line":143,"containerName":"app_exit","name":"$self","kind":13},{"kind":12,"name":"handle_app_exit","line":143,"containerName":"app_exit"},{"kind":13,"name":"$self","line":143,"containerName":"app_exit"}],"name":"app_exit","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":140},{"name":"app_exit_time","kind":12,"line":142},{"name":"app_report","kind":12,"line":143},{"line":146,"containerName":"IPC::Run3::ProfReporter","definition":"sub","kind":12,"name":"run_exit","children":[{"name":"$self","kind":13,"localvar":"my","definition":"my","containerName":"run_exit","line":147},{"kind":13,"name":"$self","containerName":"run_exit","line":148}],"range":{"end":{"character":9999,"line":148},"start":{"character":0,"line":146}}},{"containerName":null,"line":153,"name":"%self","kind":13},{"line":153,"name":"run_count","kind":12},{"line":154,"containerName":null,"kind":13,"name":"%self"},{"kind":12,"name":"run_cumulative_time","line":154},{"containerName":null,"line":154,"kind":13,"name":"$self"},{"kind":12,"name":"get_run_time","containerName":"IPC::Run3::ProfReporter","line":154},{"name":"%self","kind":13,"containerName":null,"line":155},{"kind":12,"name":"sys_cumulative_time","line":155},{"line":155,"containerName":null,"name":"$self","kind":13},{"kind":12,"name":"get_sys_time","containerName":"IPC::Run3::ProfReporter","line":155},{"containerName":null,"line":156,"kind":13,"name":"$self"},{"containerName":"IPC::Run3::ProfReporter","line":156,"kind":12,"name":"handle_run_exit"},{"kind":13,"name":"%self","containerName":null,"line":156},{"name":"run_report","kind":12,"line":156},{"line":171,"definition":"sub","containerName":"IPC::Run3::ProfReporter","kind":12,"name":"get_run_count","range":{"end":{"line":171,"character":9999},"start":{"character":0,"line":171}},"children":[]},{"line":171,"name":"run_count","kind":12},{"children":[],"range":{"end":{"line":172,"character":9999},"start":{"character":0,"line":172}},"kind":12,"name":"get_app_call_time","containerName":"IPC::Run3::ProfReporter","definition":"sub","line":172},{"line":172,"name":"app_call_time","kind":12},{"name":"get_app_exit_time","kind":12,"range":{"end":{"character":9999,"line":173},"start":{"character":0,"line":173}},"children":[],"line":173,"definition":"sub","containerName":"IPC::Run3::ProfReporter"},{"name":"app_exit_time","kind":12,"line":173},{"name":"get_app_cmd","kind":12,"children":[],"range":{"start":{"character":0,"line":174},"end":{"character":9999,"line":174}},"line":174,"containerName":"IPC::Run3::ProfReporter","definition":"sub"},{"name":"app_cmd","kind":12,"line":174},{"containerName":"IPC::Run3::ProfReporter","definition":"sub","line":175,"children":[{"line":176,"containerName":"get_app_time","definition":"my","localvar":"my","kind":13,"name":"$self"},{"line":177,"containerName":"get_app_time","name":"$self","kind":13},{"name":"get_app_exit_time","kind":12,"line":177,"containerName":"get_app_time"},{"name":"$self","kind":13,"line":177,"containerName":"get_app_time"},{"containerName":"get_app_time","line":177,"name":"get_app_call_time","kind":12}],"range":{"end":{"line":178,"character":9999},"start":{"character":0,"line":175}},"name":"get_app_time","kind":12},{"range":{"start":{"character":0,"line":184},"end":{"line":187,"character":9999}},"children":[{"line":185,"definition":"my","containerName":"get_app_cumulative_time","name":"$self","kind":13,"localvar":"my"},{"kind":13,"name":"$self","containerName":"get_app_cumulative_time","line":186},{"line":186,"containerName":"get_app_cumulative_time","name":"get_app_exit_time","kind":12},{"kind":13,"name":"$self","line":186,"containerName":"get_app_cumulative_time"},{"name":"get_app_call_time","kind":12,"containerName":"get_app_cumulative_time","line":186}],"name":"get_app_cumulative_time","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":184},{"range":{"start":{"line":197,"character":0},"end":{"line":197,"character":9999}},"children":[],"name":"get_run_call_time","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":197},{"line":197,"kind":12,"name":"run_call_time"},{"line":198,"containerName":"IPC::Run3::ProfReporter","definition":"sub","kind":12,"name":"get_run_exit_time","children":[],"range":{"start":{"character":0,"line":198},"end":{"character":9999,"line":198}}},{"kind":12,"name":"run_exit_time","line":198},{"name":"get_run_time","kind":12,"range":{"end":{"line":202,"character":9999},"start":{"character":0,"line":199}},"children":[{"definition":"my","containerName":"get_run_time","line":200,"name":"$self","kind":13,"localvar":"my"},{"line":201,"containerName":"get_run_time","kind":13,"name":"$self"},{"kind":12,"name":"get_run_exit_time","line":201,"containerName":"get_run_time"},{"name":"$self","kind":13,"containerName":"get_run_time","line":201},{"kind":12,"name":"get_run_call_time","line":201,"containerName":"get_run_time"}],"line":199,"definition":"sub","containerName":"IPC::Run3::ProfReporter"},{"range":{"end":{"character":9999,"line":208},"start":{"character":0,"line":208}},"children":[],"name":"get_run_cumulative_time","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":208},{"name":"run_cumulative_time","kind":12,"line":208},{"name":"get_sys_call_time","kind":12,"range":{"start":{"line":218,"character":0},"end":{"line":218,"character":9999}},"children":[],"line":218,"definition":"sub","containerName":"IPC::Run3::ProfReporter"},{"kind":12,"name":"sys_call_time","line":218},{"name":"get_sys_exit_time","kind":12,"children":[],"range":{"end":{"character":9999,"line":219},"start":{"line":219,"character":0}},"line":219,"containerName":"IPC::Run3::ProfReporter","definition":"sub"},{"line":219,"name":"sys_exit_time","kind":12},{"range":{"start":{"line":220,"character":0},"end":{"character":9999,"line":223}},"children":[{"localvar":"my","name":"$self","kind":13,"containerName":"get_sys_time","definition":"my","line":221},{"name":"$self","kind":13,"line":222,"containerName":"get_sys_time"},{"kind":12,"name":"get_sys_exit_time","line":222,"containerName":"get_sys_time"},{"kind":13,"name":"$self","line":222,"containerName":"get_sys_time"},{"line":222,"containerName":"get_sys_time","kind":12,"name":"get_sys_call_time"}],"name":"get_sys_time","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":220},{"range":{"start":{"character":0,"line":229},"end":{"character":9999,"line":229}},"children":[],"kind":12,"name":"get_sys_cumulative_time","definition":"sub","containerName":"IPC::Run3::ProfReporter","line":229},{"kind":12,"name":"sys_cumulative_time","line":229},{"range":{"start":{"character":0,"line":235},"end":{"line":235,"character":9999}},"children":[],"name":"get_run_cmd","kind":12,"definition":"sub","containerName":"IPC::Run3::ProfReporter","line":235},{"line":235,"kind":12,"name":"run_cmd"}],"version":5}