{"vars":[{"name":"Mojo::IOLoop::Stream","kind":2,"definition":1,"line":0},{"containerName":"Mojo","line":1,"kind":2,"name":"Base"},{"line":3,"containerName":"","kind":2,"name":"Errno"},{"containerName":"Mojo","line":4,"name":"IOLoop","kind":2},{"name":"Util","kind":2,"line":5,"containerName":"Mojo"},{"line":6,"containerName":"Scalar","name":"Util","kind":2},{"line":8,"kind":12,"name":"high_water_mark"},{"kind":12,"name":"reactor","line":9},{"name":"Mojo","kind":12,"line":9,"containerName":"IOLoop"},{"kind":12,"name":"singleton","line":9,"containerName":"Mojo::IOLoop::Stream"},{"kind":12,"name":"reactor","containerName":"Mojo::IOLoop::Stream","line":9},{"line":9,"name":"weak","kind":12},{"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":11,"children":[{"name":"close","kind":12,"containerName":"DESTROY","line":11}],"range":{"end":{"line":11,"character":9999},"start":{"line":11,"character":0}},"name":"DESTROY","kind":12},{"range":{"start":{"line":13,"character":0},"end":{"character":9999,"line":13}},"children":[],"kind":12,"name":"bytes_read","definition":"sub","containerName":"Mojo::IOLoop::Stream","line":13},{"kind":12,"name":"read","line":13},{"line":15,"definition":"sub","containerName":"Mojo::IOLoop::Stream","name":"bytes_waiting","kind":12,"range":{"start":{"line":15,"character":0},"end":{"line":15,"character":9999}},"children":[]},{"line":15,"name":"buffer","kind":12},{"children":[],"range":{"end":{"character":9999,"line":17},"start":{"line":17,"character":0}},"name":"bytes_written","kind":12,"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":17},{"line":17,"name":"written","kind":12},{"kind":12,"name":"can_write","range":{"end":{"character":9999,"line":19},"start":{"line":19,"character":0}},"children":[{"line":19,"containerName":"can_write","name":"bytes_waiting","kind":12},{"kind":12,"name":"high_water_mark","containerName":"can_write","line":19}],"line":19,"definition":"sub","containerName":"Mojo::IOLoop::Stream"},{"name":"handle","kind":12,"line":19},{"kind":12,"name":"close","children":[{"name":"$self","kind":13,"localvar":"my","line":22,"definition":"my","containerName":"close"},{"containerName":"close","definition":"my","line":23,"localvar":"my","kind":13,"name":"$reactor"},{"line":23,"containerName":"close","name":"$self","kind":13},{"line":23,"containerName":"close","kind":12,"name":"reactor"},{"definition":"my","containerName":"close","line":24,"kind":13,"name":"$handle","localvar":"my"},{"line":24,"containerName":"close","kind":13,"name":"$self"},{"containerName":"close","line":24,"kind":12,"name":"timeout"},{"name":"$reactor","kind":13,"line":25,"containerName":"close"},{"name":"remove","kind":12,"containerName":"close","line":25},{"kind":13,"name":"$handle","containerName":"close","line":25},{"line":26,"containerName":"close","name":"$self","kind":13},{"line":26,"containerName":"close","name":"emit","kind":12}],"range":{"end":{"character":9999,"line":27},"start":{"character":0,"line":21}},"line":21,"containerName":"Mojo::IOLoop::Stream","definition":"sub"},{"line":24,"name":"handle","kind":12},{"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":29,"children":[{"containerName":"close_gracefully","line":29,"name":"is_writing","kind":12},{"name":"close","kind":12,"containerName":"close_gracefully","line":29}],"range":{"start":{"line":29,"character":0},"end":{"line":29,"character":9999}},"kind":12,"name":"close_gracefully"},{"name":"graceful","kind":12,"line":29},{"line":31,"containerName":"Mojo::IOLoop::Stream","definition":"sub","name":"handle","kind":12,"children":[],"range":{"end":{"character":9999,"line":31},"start":{"character":0,"line":31}}},{"kind":12,"name":"handle","line":31},{"line":33,"containerName":"Mojo::IOLoop::Stream","definition":"sub","kind":12,"name":"is_readable","children":[{"localvar":"my","kind":13,"name":"$self","containerName":"is_readable","definition":"my","line":34},{"name":"$self","kind":13,"line":35,"containerName":"is_readable"},{"name":"_again","kind":12,"containerName":"is_readable","line":35},{"containerName":"is_readable","line":36,"kind":13,"name":"$self"},{"name":"$self","kind":13,"line":36,"containerName":"is_readable"}],"range":{"end":{"character":9999,"line":37},"start":{"line":33,"character":0}}},{"name":"handle","kind":12,"line":36},{"containerName":"Util::_readable","line":36,"kind":12,"name":"Mojo"},{"line":36,"kind":12,"name":"handle"},{"name":"is_writing","kind":12,"children":[{"name":"$self","kind":13,"localvar":"my","line":40,"definition":"my","containerName":"is_writing"},{"kind":13,"name":"$self","line":41,"containerName":"is_writing"},{"containerName":"is_writing","line":42,"name":"$self","kind":13},{"containerName":"is_writing","line":42,"name":"$self","kind":13},{"kind":12,"name":"has_subscribers","containerName":"is_writing","line":42}],"range":{"end":{"character":9999,"line":43},"start":{"line":39,"character":0}},"line":39,"containerName":"Mojo::IOLoop::Stream","definition":"sub"},{"line":41,"kind":12,"name":"handle"},{"name":"buffer","kind":12,"line":42},{"kind":12,"name":"new","range":{"start":{"line":45,"character":0},"end":{"line":45,"character":9999}},"children":[],"line":45,"definition":"sub","containerName":"Mojo::IOLoop::Stream"},{"kind":12,"name":"SUPER","line":45,"containerName":"new"},{"kind":12,"name":"handle","line":45},{"line":45,"name":"timeout","kind":12},{"range":{"start":{"line":47,"character":0},"end":{"line":58,"character":9999}},"children":[{"line":48,"definition":"my","containerName":"start","name":"$self","kind":13,"localvar":"my"},{"line":51,"containerName":"start","kind":13,"name":"$self"},{"definition":"my","containerName":"start","line":52,"kind":13,"name":"$reactor","localvar":"my"},{"name":"$self","kind":13,"containerName":"start","line":52},{"line":52,"containerName":"start","kind":12,"name":"reactor"},{"name":"$reactor","kind":13,"containerName":"start","line":53},{"containerName":"start","line":53,"name":"watch","kind":12},{"name":"$self","kind":13,"line":53,"containerName":"start"},{"line":53,"containerName":"start","kind":13,"name":"$self"},{"line":53,"containerName":"start","name":"is_writing","kind":12},{"name":"$self","kind":13,"line":53,"containerName":"start"},{"kind":13,"name":"$self","line":55,"containerName":"start"},{"line":56,"definition":"my","containerName":"start","kind":13,"name":"$cb","localvar":"my"},{"name":"$self","kind":13,"line":56,"containerName":"start"},{"kind":12,"name":"_write","line":56,"containerName":"start"},{"name":"$self","kind":13,"containerName":"start","line":56},{"containerName":"start","line":56,"kind":12,"name":"_read"},{"line":57,"containerName":"start","kind":13,"name":"$reactor"},{"kind":12,"name":"io","containerName":"start","line":57},{"kind":13,"name":"$self","containerName":"start","line":57},{"name":"timeout","kind":12,"containerName":"start","line":57},{"containerName":"start","line":57,"name":"$self","kind":13},{"name":"$cb","kind":13,"containerName":"start","line":57}],"name":"start","kind":12,"definition":"sub","containerName":"Mojo::IOLoop::Stream","line":47},{"line":51,"name":"handle","kind":12},{"name":"handle","kind":12,"line":53},{"name":"paused","kind":12,"line":53},{"line":55,"kind":12,"name":"weaken"},{"line":57,"name":"timeout","kind":12},{"line":57,"kind":12,"name":"handle"},{"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":60,"children":[{"containerName":"steal_handle","definition":"my","line":61,"localvar":"my","kind":13,"name":"$self"},{"name":"$self","kind":13,"line":62,"containerName":"steal_handle"},{"line":62,"containerName":"steal_handle","name":"reactor","kind":12},{"name":"remove","kind":12,"line":62,"containerName":"steal_handle"},{"name":"$self","kind":13,"containerName":"steal_handle","line":62},{"line":63,"containerName":"steal_handle","kind":13,"name":"$self"}],"range":{"end":{"line":64,"character":9999},"start":{"character":0,"line":60}},"name":"steal_handle","kind":12},{"name":"handle","kind":12,"line":62},{"kind":12,"name":"handle","line":63},{"line":66,"containerName":"Mojo::IOLoop::Stream","definition":"sub","kind":12,"name":"stop","children":[{"name":"reactor","kind":12,"containerName":"stop","line":66},{"containerName":"stop","line":66,"name":"watch","kind":12},{"name":"is_writing","kind":12,"containerName":"stop","line":66}],"range":{"start":{"line":66,"character":0},"end":{"line":66,"character":9999}}},{"line":66,"kind":12,"name":"handle"},{"kind":12,"name":"handle","line":66},{"line":66,"name":"paused","kind":12},{"children":[{"localvar":"my","name":"$self","kind":13,"containerName":"timeout","definition":"my","line":69},{"name":"$timeout","kind":13,"containerName":"timeout","line":69},{"name":"$self","kind":13,"line":71,"containerName":"timeout"},{"containerName":"timeout","line":71,"name":"$timeout","kind":13},{"line":72,"containerName":"timeout","kind":13,"name":"$self"},{"name":"$timeout","kind":13,"line":72,"containerName":"timeout"},{"kind":13,"name":"$reactor","localvar":"my","line":74,"definition":"my","containerName":"timeout"},{"line":74,"containerName":"timeout","kind":13,"name":"$self"},{"line":74,"containerName":"timeout","name":"reactor","kind":12},{"line":75,"containerName":"timeout","name":"$self","kind":13},{"name":"$self","kind":13,"containerName":"timeout","line":76},{"line":76,"containerName":"timeout","name":"$reactor","kind":13},{"line":76,"containerName":"timeout","kind":12,"name":"remove"},{"name":"$self","kind":13,"containerName":"timeout","line":76},{"name":"$reactor","kind":13,"line":77,"containerName":"timeout"},{"name":"again","kind":12,"containerName":"timeout","line":77},{"name":"$self","kind":13,"containerName":"timeout","line":77},{"kind":13,"name":"$self","line":77,"containerName":"timeout"},{"line":79,"containerName":"timeout","name":"$self","kind":13},{"containerName":"timeout","line":80,"kind":13,"name":"$self"},{"kind":13,"name":"$self","line":81,"containerName":"timeout"},{"containerName":"timeout","line":82,"kind":13,"name":"$reactor"},{"containerName":"timeout","line":82,"name":"timer","kind":12},{"containerName":"timeout","line":82,"name":"$timeout","kind":13},{"containerName":"timeout","line":82,"name":"$self","kind":13},{"containerName":"timeout","line":82,"kind":13,"name":"$self"},{"kind":13,"name":"$self","containerName":"timeout","line":82},{"containerName":"timeout","line":82,"name":"emit","kind":12},{"kind":12,"name":"close","line":82,"containerName":"timeout"},{"containerName":"timeout","line":85,"kind":13,"name":"$self"}],"kind":12,"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":68,"detail":"($self,$timeout)","range":{"end":{"character":9999,"line":86},"start":{"character":0,"line":68}},"signature":{"parameters":[{"label":"$self"},{"label":"$timeout"}],"label":"timeout($self,$timeout)","documentation":""},"name":"timeout"},{"name":"timeout","kind":12,"line":71},{"line":72,"kind":12,"name":"timeout"},{"line":75,"name":"timer","kind":12},{"line":76,"kind":12,"name":"timeout"},{"line":76,"kind":12,"name":"timer"},{"line":77,"name":"timer","kind":12},{"line":77,"name":"timeout","kind":12},{"line":79,"name":"timeout","kind":12},{"kind":12,"name":"weaken","line":80},{"name":"timer","kind":12,"line":81},{"name":"timer","kind":12,"line":82},{"kind":12,"children":[{"localvar":"my","kind":13,"name":"$self","line":89,"containerName":"write","definition":"my"},{"kind":13,"name":"$chunk","line":89,"containerName":"write"},{"kind":13,"name":"$cb","containerName":"write","line":89},{"name":"$chunk","kind":13,"containerName":"write","line":92},{"line":93,"containerName":"write","kind":13,"name":"$self"},{"line":93,"containerName":"write","kind":13,"name":"$chunk"},{"containerName":"write","line":94,"name":"$cb","kind":13},{"line":94,"containerName":"write","kind":13,"name":"$self"},{"line":94,"containerName":"write","name":"once","kind":12},{"line":94,"containerName":"write","kind":13,"name":"$cb"},{"kind":13,"name":"$self","line":95,"containerName":"write"},{"name":"$self","kind":13,"line":95,"containerName":"write"},{"containerName":"write","line":96,"name":"$self","kind":13},{"name":"reactor","kind":12,"line":96,"containerName":"write"},{"containerName":"write","line":96,"name":"watch","kind":12},{"kind":13,"name":"$self","containerName":"write","line":96},{"name":"$self","kind":13,"containerName":"write","line":96},{"name":"$self","kind":13,"line":96,"containerName":"write"},{"containerName":"write","line":98,"kind":13,"name":"$self"}],"signature":{"label":"write($self,$chunk,$cb)","documentation":"","parameters":[{"label":"$self"},{"label":"$chunk"},{"label":"$cb"}]},"name":"write","detail":"($self,$chunk,$cb)","range":{"start":{"line":88,"character":0},"end":{"character":9999,"line":99}},"line":88,"containerName":"Mojo::IOLoop::Stream","definition":"sub"},{"name":"utf8","kind":12,"line":92,"containerName":"downgrade"},{"line":93,"name":"buffer","kind":12},{"line":94,"kind":12,"name":"drain"},{"line":95,"kind":12,"name":"buffer"},{"kind":12,"name":"handle","line":96},{"line":96,"name":"paused","kind":12},{"kind":12,"name":"handle","line":96},{"name":"_again","kind":12,"children":[{"kind":12,"name":"reactor","line":101,"containerName":"_again"},{"containerName":"_again","line":101,"name":"again","kind":12}],"range":{"end":{"character":9999,"line":101},"start":{"character":0,"line":101}},"line":101,"containerName":"Mojo::IOLoop::Stream","definition":"sub"},{"line":101,"name":"timer","kind":12},{"name":"timer","kind":12,"line":101},{"children":[{"definition":"my","containerName":"_read","line":104,"name":"$self","kind":13,"localvar":"my"},{"kind":13,"name":"$read","localvar":"my","definition":"my","containerName":"_read","line":106},{"line":106,"containerName":"_read","name":"$self","kind":13},{"line":106,"containerName":"_read","name":"sysread","kind":12},{"name":"$buffer","kind":13,"localvar":"my","line":106,"definition":"my","containerName":"_read"},{"line":107,"containerName":"_read","kind":13,"name":"$self"},{"line":107,"containerName":"_read","kind":13,"name":"$read"},{"name":"$read","kind":13,"containerName":"_read","line":108},{"line":108,"containerName":"_read","kind":13,"name":"$self"},{"name":"close","kind":12,"containerName":"_read","line":108},{"kind":13,"name":"$self","containerName":"_read","line":108},{"name":"emit","kind":12,"containerName":"_read","line":108},{"containerName":"_read","line":108,"kind":13,"name":"$buffer"},{"containerName":"_read","line":108,"kind":12,"name":"_again"},{"name":"$self","kind":13,"line":115,"containerName":"_read"},{"containerName":"_read","line":115,"name":"close","kind":12},{"name":"$self","kind":13,"containerName":"_read","line":115},{"kind":12,"name":"emit","line":115,"containerName":"_read"},{"kind":12,"name":"close","containerName":"_read","line":115}],"range":{"start":{"line":103,"character":0},"end":{"character":9999,"line":116}},"name":"_read","kind":12,"containerName":"Mojo::IOLoop::Stream","definition":"sub","line":103},{"line":106,"name":"handle","kind":12},{"kind":12,"name":"read","line":107},{"line":108,"name":"read","kind":12},{"line":112,"kind":12,"name":"EAGAIN"},{"line":112,"kind":12,"name":"EINTR"},{"name":"EWOULDBLOCK","kind":12,"line":112},{"line":115,"name":"ECONNRESET","kind":12},{"kind":12,"name":"error","line":115},{"line":118,"containerName":"Mojo::IOLoop::Stream","definition":"sub","kind":12,"name":"_write","children":[{"line":119,"containerName":"_write","definition":"my","localvar":"my","kind":13,"name":"$self"},{"line":122,"definition":"my","containerName":"_write","kind":13,"name":"$handle","localvar":"my"},{"line":122,"containerName":"_write","kind":13,"name":"$self"},{"containerName":"_write","line":123,"name":"$self","kind":13},{"localvar":"my","kind":13,"name":"$written","containerName":"_write","definition":"my","line":124},{"name":"$handle","kind":13,"containerName":"_write","line":124},{"line":124,"containerName":"_write","kind":12,"name":"syswrite"},{"containerName":"_write","line":124,"name":"$self","kind":13},{"name":"$self","kind":13,"containerName":"_write","line":125},{"containerName":"_write","line":125,"kind":13,"name":"$written"},{"kind":13,"name":"$self","containerName":"_write","line":126},{"line":126,"containerName":"_write","kind":12,"name":"emit"},{"name":"$self","kind":13,"containerName":"_write","line":126},{"name":"$written","kind":13,"line":126,"containerName":"_write"},{"kind":12,"name":"_again","containerName":"_write","line":126},{"kind":13,"name":"$self","containerName":"_write","line":130},{"name":"$self","kind":13,"containerName":"_write","line":130},{"containerName":"_write","line":130,"name":"emit","kind":12},{"containerName":"_write","line":130,"kind":13,"name":"$self"},{"containerName":"_write","line":131,"name":"$self","kind":13},{"containerName":"_write","line":131,"kind":12,"name":"is_writing"},{"containerName":"_write","line":132,"kind":13,"name":"$self"},{"line":132,"containerName":"_write","name":"close","kind":12},{"line":132,"containerName":"_write","name":"$self","kind":13},{"name":"$self","kind":13,"containerName":"_write","line":133},{"kind":12,"name":"reactor","containerName":"_write","line":133},{"name":"watch","kind":12,"containerName":"_write","line":133},{"kind":13,"name":"$handle","containerName":"_write","line":133},{"line":133,"containerName":"_write","name":"$self","kind":13},{"name":"$self","kind":13,"line":133,"containerName":"_write"}],"range":{"start":{"line":118,"character":0},"end":{"character":9999,"line":134}}},{"line":122,"name":"handle","kind":12},{"name":"buffer","kind":12,"line":123},{"kind":12,"name":"buffer","line":124},{"kind":12,"name":"written","line":125},{"line":126,"name":"write","kind":12},{"name":"buffer","kind":12,"line":126},{"name":"buffer","kind":12,"line":130},{"line":130,"kind":12,"name":"buffer"},{"line":132,"name":"graceful","kind":12},{"line":133,"name":"paused","kind":12},{"name":"handle","kind":12,"line":133}],"version":5}