{"vars":[{"kind":2,"name":"Mojo::IOLoop::TLS","definition":1,"line":0},{"name":"Base","kind":2,"line":1,"containerName":"Mojo"},{"containerName":"Mojo","line":3,"kind":2,"name":"File"},{"containerName":"Mojo","line":4,"kind":2,"name":"IOLoop"},{"kind":2,"name":"Util","containerName":"Scalar","line":5},{"kind":14,"name":"TLS","line":8,"containerName":"Mojo::IOLoop::TLS","definition":1},{"containerName":null,"line":8,"name":"%ENV","kind":13},{"name":"MOJO_NO_TLS","kind":12,"line":8},{"name":"IO","kind":12,"line":8,"containerName":"Socket::SSL"},{"name":"IO","kind":12,"line":8,"containerName":"Socket::SSL"},{"name":"VERSION","kind":12,"line":8,"containerName":"Mojo::IOLoop::TLS"},{"name":"READ","kind":14,"definition":1,"containerName":"Mojo::IOLoop::TLS","line":9},{"name":"TLS","kind":12,"line":9},{"kind":12,"name":"IO","line":9,"containerName":"Socket::SSL::SSL_WANT_READ"},{"name":"WRITE","kind":14,"line":10,"containerName":"Mojo::IOLoop::TLS","definition":1},{"kind":12,"name":"TLS","line":10},{"kind":12,"name":"IO","line":10,"containerName":"Socket::SSL::SSL_WANT_WRITE"},{"line":12,"kind":12,"name":"reactor"},{"kind":12,"name":"Mojo","containerName":"IOLoop","line":12},{"line":12,"containerName":"Mojo::IOLoop::TLS","kind":12,"name":"singleton"},{"containerName":"Mojo::IOLoop::TLS","line":12,"kind":12,"name":"reactor"},{"line":12,"name":"weak","kind":12},{"line":17,"containerName":null,"definition":"my","localvar":"my","kind":13,"name":"$CERT"},{"name":"curfile","kind":12,"line":17},{"containerName":"Mojo::IOLoop::TLS","line":17,"name":"sibling","kind":12},{"name":"to_string","kind":12,"containerName":"Mojo::IOLoop::TLS","line":17},{"localvar":"my","kind":13,"name":"$KEY","line":18,"containerName":null,"definition":"my"},{"line":18,"kind":12,"name":"curfile"},{"containerName":"Mojo::IOLoop::TLS","line":18,"name":"sibling","kind":12},{"containerName":"Mojo::IOLoop::TLS","line":18,"name":"to_string","kind":12},{"containerName":"Mojo::IOLoop::TLS","definition":"sub","line":20,"children":[{"name":"_cleanup","kind":12,"line":20,"containerName":"DESTROY"}],"range":{"start":{"character":0,"line":20},"end":{"character":9999,"line":20}},"kind":12,"name":"DESTROY"},{"line":22,"containerName":"Mojo::IOLoop::TLS","definition":"sub","name":"can_tls","kind":12,"children":[],"range":{"end":{"line":22,"character":9999},"start":{"line":22,"character":0}}},{"name":"TLS","kind":12,"line":22},{"containerName":"Mojo::IOLoop::TLS","definition":"sub","line":24,"children":[{"line":25,"containerName":"negotiate","definition":"my","localvar":"my","name":"$self","kind":13},{"kind":13,"name":"$args","line":25,"containerName":"negotiate"},{"name":"$self","kind":13,"containerName":"negotiate","line":27},{"kind":12,"name":"emit","line":27,"containerName":"negotiate"},{"line":29,"containerName":"negotiate","definition":"my","localvar":"my","name":"$handle","kind":13},{"line":29,"containerName":"negotiate","name":"$self","kind":13},{"kind":13,"name":"$self","line":30,"containerName":"negotiate"},{"line":30,"containerName":"negotiate","kind":12,"name":"emit"},{"kind":13,"name":"$IO","containerName":"negotiate","line":30},{"line":31,"containerName":"negotiate","kind":12,"name":"start_SSL"},{"name":"$handle","kind":13,"line":31,"containerName":"negotiate"},{"containerName":"negotiate","line":31,"kind":13,"name":"$self"},{"kind":12,"name":"_expand","containerName":"negotiate","line":31},{"line":31,"containerName":"negotiate","name":"$args","kind":13}],"range":{"start":{"line":24,"character":0},"end":{"character":9999,"line":31}},"name":"negotiate","kind":12},{"line":27,"kind":12,"name":"error"},{"name":"TLS","kind":12,"line":27},{"line":29,"kind":12,"name":"handle"},{"line":30,"kind":12,"name":"error"},{"containerName":"SSL::SSL_ERROR","line":30,"kind":12,"name":"Socket"},{"name":"IO","kind":12,"line":31,"containerName":"Socket::SSL"},{"containerName":null,"line":32,"kind":13,"name":"$self"},{"kind":12,"name":"reactor","line":32,"containerName":"Mojo::IOLoop::TLS"},{"name":"io","kind":12,"line":32,"containerName":"Mojo::IOLoop::TLS"},{"containerName":null,"line":32,"name":"%handle","kind":13},{"kind":13,"name":"$self","containerName":null,"line":32},{"kind":12,"name":"_tls","containerName":"Mojo::IOLoop::TLS","line":32},{"line":32,"containerName":null,"kind":13,"name":"$handle"},{"name":"%args","kind":13,"containerName":null,"line":32},{"kind":12,"name":"server","line":32},{"line":35,"containerName":"Mojo::IOLoop::TLS","definition":"sub","kind":12,"name":"new","children":[],"range":{"end":{"line":35,"character":9999},"start":{"character":0,"line":35}}},{"containerName":"new","line":35,"kind":12,"name":"SUPER"},{"line":35,"name":"handle","kind":12},{"name":"_cleanup","kind":12,"range":{"start":{"line":37,"character":0},"end":{"character":9999,"line":42}},"children":[{"definition":"my","containerName":"_cleanup","line":38,"name":"$self","kind":13,"localvar":"my"},{"line":39,"containerName":"_cleanup","definition":"my","localvar":"my","name":"$reactor","kind":13},{"line":39,"containerName":"_cleanup","name":"$self","kind":13},{"line":39,"containerName":"_cleanup","name":"reactor","kind":12},{"line":40,"containerName":"_cleanup","kind":13,"name":"$reactor"},{"name":"remove","kind":12,"containerName":"_cleanup","line":40},{"kind":13,"name":"$self","line":40,"containerName":"_cleanup"},{"kind":13,"name":"$self","line":40,"containerName":"_cleanup"},{"line":41,"containerName":"_cleanup","kind":13,"name":"$self"}],"line":37,"definition":"sub","containerName":"Mojo::IOLoop::TLS"},{"kind":12,"name":"handle","line":40},{"line":40,"kind":12,"name":"handle"},{"line":44,"definition":"sub","containerName":"Mojo::IOLoop::TLS","name":"_expand","signature":{"parameters":[{"label":"$self"},{"label":"$args"}],"label":"_expand($self,$args)","documentation":""},"range":{"start":{"line":44,"character":0},"end":{"line":53,"character":9999}},"detail":"($self,$args)","kind":12,"children":[{"kind":13,"name":"$self","localvar":"my","line":45,"definition":"my","containerName":"_expand"},{"line":45,"containerName":"_expand","name":"$args","kind":13},{"line":47,"containerName":"_expand","kind":13,"name":"$self"},{"name":"$tls","kind":13,"localvar":"my","line":48,"definition":"my","containerName":"_expand"},{"kind":13,"name":"$self","containerName":"_expand","line":48},{"line":48,"containerName":"_expand","kind":12,"name":"_cleanup"},{"containerName":"_expand","line":48,"name":"emit","kind":12},{"name":"$tls","kind":13,"containerName":"_expand","line":49},{"containerName":"_expand","line":49,"kind":13,"name":"$args"},{"kind":13,"name":"$args","containerName":"_expand","line":49},{"kind":13,"name":"$args","line":49,"containerName":"_expand"},{"name":"$tls","kind":13,"containerName":"_expand","line":50},{"name":"$args","kind":13,"line":50,"containerName":"_expand"},{"kind":13,"name":"$args","line":50,"containerName":"_expand"},{"line":51,"containerName":"_expand","kind":13,"name":"$tls"},{"kind":13,"name":"$args","containerName":"_expand","line":51},{"kind":13,"name":"$args","line":51,"containerName":"_expand"},{"kind":13,"name":"$tls","containerName":"_expand","line":52},{"containerName":"_expand","line":52,"kind":13,"name":"$args"},{"name":"$args","kind":13,"containerName":"_expand","line":52},{"name":"$tls","kind":13,"containerName":"_expand","line":53}]},{"kind":12,"name":"weaken","line":47},{"line":48,"name":"SSL_error_trap","kind":12},{"line":48,"name":"error","kind":12},{"name":"SSL_startHandshake","kind":12,"line":48},{"name":"SSL_ca_file","kind":12,"line":49},{"name":"tls_ca","kind":12,"line":49},{"line":49,"name":"tls_ca","kind":12},{"line":49,"kind":12,"name":"tls_ca"},{"name":"SSL_cert_file","kind":12,"line":50},{"kind":12,"name":"tls_cert","line":50},{"line":50,"kind":12,"name":"tls_cert"},{"line":51,"kind":12,"name":"SSL_key_file"},{"name":"tls_key","kind":12,"line":51},{"line":51,"name":"tls_key","kind":12},{"line":52,"name":"SSL_server","kind":12},{"name":"server","kind":12,"line":52},{"line":52,"kind":12,"name":"server"},{"containerName":null,"line":53,"name":"%args","kind":13},{"line":53,"kind":12,"name":"tls_options"},{"containerName":null,"line":53,"name":"%args","kind":13},{"name":"tls_options","kind":12,"line":53},{"containerName":null,"line":53,"name":"%args","kind":13},{"kind":12,"name":"tls_options","line":53},{"kind":13,"name":"%args","line":55,"containerName":null},{"name":"server","kind":12,"line":55},{"line":56,"containerName":null,"name":"%tls","kind":13},{"name":"SSL_cert_file","kind":12,"line":56},{"containerName":null,"line":56,"name":"$CERT","kind":13},{"containerName":null,"line":57,"name":"%tls","kind":13},{"line":57,"kind":12,"name":"SSL_key_file"},{"kind":13,"name":"%KEY","containerName":null,"line":57},{"containerName":null,"line":60,"name":"%tls","kind":13},{"kind":12,"name":"SSL_hostname","line":60},{"containerName":"Socket::SSL","line":60,"name":"IO","kind":12},{"line":60,"containerName":"Mojo::IOLoop::TLS","kind":12,"name":"can_client_sni"},{"kind":13,"name":"%args","line":60,"containerName":null},{"line":60,"name":"address","kind":12},{"containerName":null,"line":61,"kind":13,"name":"%tls"},{"line":61,"kind":12,"name":"SSL_verifycn_name"},{"line":61,"containerName":null,"kind":13,"name":"%args"},{"line":61,"name":"address","kind":12},{"containerName":null,"line":64,"name":"$tls","kind":13},{"children":[{"name":"$self","kind":13,"localvar":"my","definition":"my","containerName":"_tls","line":68},{"line":68,"containerName":"_tls","kind":13,"name":"$handle"},{"kind":13,"name":"$server","line":68,"containerName":"_tls"},{"containerName":"_tls","line":71,"kind":13,"name":"$server"},{"kind":13,"name":"$handle","line":71,"containerName":"_tls"},{"line":71,"containerName":"_tls","name":"accept_SSL","kind":12},{"line":71,"containerName":"_tls","name":"$handle","kind":13},{"name":"connect_SSL","kind":12,"containerName":"_tls","line":71},{"containerName":"_tls","definition":"my","line":72,"localvar":"my","name":"$err","kind":13},{"name":"$IO","kind":13,"line":72,"containerName":"_tls"},{"line":73,"containerName":"_tls","name":"$err","kind":13},{"containerName":"_tls","line":73,"name":"$self","kind":13},{"kind":12,"name":"reactor","line":73,"containerName":"_tls"},{"kind":12,"name":"watch","containerName":"_tls","line":73},{"line":73,"containerName":"_tls","name":"$handle","kind":13},{"containerName":"_tls","line":74,"name":"$err","kind":13},{"kind":13,"name":"$self","line":74,"containerName":"_tls"},{"containerName":"_tls","line":74,"kind":12,"name":"reactor"},{"kind":12,"name":"watch","line":74,"containerName":"_tls"},{"kind":13,"name":"$handle","line":74,"containerName":"_tls"},{"kind":13,"name":"$self","containerName":"_tls","line":77},{"kind":12,"name":"_cleanup","containerName":"_tls","line":77},{"containerName":"_tls","line":77,"name":"emit","kind":12},{"containerName":"_tls","line":77,"name":"$self","kind":13}],"kind":12,"definition":"sub","containerName":"Mojo::IOLoop::TLS","line":67,"range":{"start":{"line":67,"character":0},"end":{"character":9999,"line":78}},"detail":"($self,$handle,$server)","name":"_tls","signature":{"documentation":"","label":"_tls($self,$handle,$server)","parameters":[{"label":"$self"},{"label":"$handle"},{"label":"$server"}]}},{"line":72,"containerName":"SSL::SSL_ERROR","kind":12,"name":"Socket"},{"line":73,"kind":12,"name":"READ"},{"line":74,"name":"WRITE","kind":12},{"line":77,"kind":12,"name":"upgrade"},{"line":77,"kind":12,"name":"handle"}],"version":5}