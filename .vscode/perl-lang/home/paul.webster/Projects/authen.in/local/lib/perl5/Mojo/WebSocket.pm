{"version":5,"vars":[{"line":0,"definition":1,"kind":2,"name":"Mojo::WebSocket"},{"name":"Base","kind":2,"containerName":"Mojo","line":1},{"name":"Config","kind":2,"containerName":"","line":3},{"line":4,"containerName":"","name":"Exporter","kind":2},{"kind":2,"name":"Util","containerName":"Mojo","line":5},{"kind":14,"name":"DEBUG","line":7,"definition":1,"containerName":"Mojo::WebSocket"},{"kind":13,"name":"%ENV","containerName":null,"line":7},{"name":"MOJO_WEBSOCKET_DEBUG","kind":12,"line":7},{"kind":14,"name":"GUID","definition":1,"containerName":"Mojo::WebSocket","line":10},{"containerName":"Mojo::WebSocket","definition":1,"line":13,"kind":14,"name":"MODERN"},{"containerName":null,"line":13,"kind":13,"name":"%Config"},{"name":"use64bitint","kind":12,"line":13},{"kind":13,"name":"%Config","containerName":null,"line":13},{"line":13,"name":"longsize","kind":12},{"line":16,"definition":1,"containerName":"Mojo::WebSocket","name":"WS_CONTINUATION","kind":14},{"line":16,"kind":12,"name":"WS_TEXT"},{"line":16,"kind":12,"name":"WS_BINARY"},{"kind":12,"name":"WS_CLOSE","line":16},{"kind":12,"name":"WS_PING","line":16},{"line":17,"name":"WS_PONG","kind":12},{"line":19,"definition":"our","containerName":"Mojo::WebSocket","name":"@EXPORT_OK","kind":13},{"line":24,"containerName":"Mojo::WebSocket","definition":"sub","signature":{"parameters":[{"label":"$masked"},{"label":"$fin"},{"label":"$rsv1"},{"label":"$rsv2"},{"label":"$rsv3"},{"label":"$op"},{"label":"$payload"}],"label":"build_frame($masked,$fin,$rsv1,$rsv2,$rsv3,$op,$payload)","documentation":""},"name":"build_frame","detail":"($masked,$fin,$rsv1,$rsv2,$rsv3,$op,$payload)","range":{"end":{"character":9999,"line":62},"start":{"character":0,"line":24}},"kind":12,"children":[{"name":"$masked","kind":13,"localvar":"my","line":25,"definition":"my","containerName":"build_frame"},{"containerName":"build_frame","line":25,"name":"$fin","kind":13},{"line":25,"containerName":"build_frame","kind":13,"name":"$rsv1"},{"name":"$rsv2","kind":13,"line":25,"containerName":"build_frame"},{"name":"$rsv3","kind":13,"containerName":"build_frame","line":25},{"containerName":"build_frame","line":25,"kind":13,"name":"$op"},{"line":25,"containerName":"build_frame","name":"$payload","kind":13},{"containerName":"build_frame","definition":"my","line":29,"localvar":"my","kind":13,"name":"$head"},{"kind":13,"name":"$op","containerName":"build_frame","line":29},{"kind":13,"name":"$fin","line":29,"containerName":"build_frame"},{"name":"$head","kind":13,"line":30,"containerName":"build_frame"},{"kind":13,"name":"$rsv1","containerName":"build_frame","line":30},{"name":"$head","kind":13,"line":31,"containerName":"build_frame"},{"line":31,"containerName":"build_frame","name":"$rsv2","kind":13},{"containerName":"build_frame","line":32,"kind":13,"name":"$head"},{"line":32,"containerName":"build_frame","kind":13,"name":"$rsv3"},{"name":"$frame","kind":13,"localvar":"my","definition":"my","containerName":"build_frame","line":33},{"kind":13,"name":"$head","line":33,"containerName":"build_frame"},{"line":36,"definition":"my","containerName":"build_frame","name":"$len","kind":13,"localvar":"my"},{"kind":13,"name":"$payload","containerName":"build_frame","line":36},{"kind":13,"name":"$len","containerName":"build_frame","line":37},{"containerName":"build_frame","line":39,"name":"$frame","kind":13},{"line":39,"containerName":"build_frame","kind":13,"name":"$masked"},{"name":"$len","kind":13,"line":39,"containerName":"build_frame"},{"line":39,"containerName":"build_frame","kind":13,"name":"$len"},{"containerName":"build_frame","line":43,"kind":13,"name":"$len"},{"line":45,"containerName":"build_frame","name":"$frame","kind":13},{"name":"$masked","kind":13,"containerName":"build_frame","line":45},{"line":45,"containerName":"build_frame","kind":13,"name":"$len"},{"kind":13,"name":"$frame","line":51,"containerName":"build_frame"},{"kind":13,"name":"$masked","line":51,"containerName":"build_frame"},{"kind":13,"name":"$frame","line":52,"containerName":"build_frame"},{"containerName":"build_frame","line":52,"name":"$len","kind":13},{"line":52,"containerName":"build_frame","name":"$len","kind":13},{"name":"$masked","kind":13,"containerName":"build_frame","line":56},{"containerName":"build_frame","definition":"my","line":57,"localvar":"my","kind":13,"name":"$mask"},{"line":58,"containerName":"build_frame","kind":13,"name":"$payload"},{"containerName":"build_frame","line":58,"name":"$mask","kind":13},{"containerName":"build_frame","line":58,"kind":13,"name":"$payload"},{"name":"$mask","kind":13,"line":58,"containerName":"build_frame"},{"kind":13,"name":"$frame","line":61,"containerName":"build_frame"},{"name":"$payload","kind":13,"line":61,"containerName":"build_frame"}]},{"line":26,"kind":12,"name":"DEBUG"},{"line":38,"name":"DEBUG","kind":12},{"line":44,"kind":12,"name":"DEBUG"},{"line":50,"kind":12,"name":"DEBUG"},{"line":52,"kind":12,"name":"MODERN"},{"line":58,"kind":12,"name":"xor_encode"},{"line":64,"containerName":"Mojo::WebSocket","definition":"sub","name":"challenge","kind":12,"children":[{"containerName":"challenge","definition":"my","line":65,"localvar":"my","kind":13,"name":"$tx"},{"line":68,"containerName":"challenge","definition":"my","localvar":"my","name":"$headers","kind":13},{"containerName":"challenge","line":68,"name":"$tx","kind":13},{"name":"res","kind":12,"containerName":"challenge","line":68},{"containerName":"challenge","line":68,"kind":12,"name":"headers"},{"line":69,"containerName":"challenge","name":"$tx","kind":13},{"name":"compressed","kind":12,"line":69,"containerName":"challenge"},{"name":"$headers","kind":13,"line":69,"containerName":"challenge"},{"kind":12,"name":"sec_websocket_extensions","containerName":"challenge","line":69},{"kind":13,"name":"$tx","line":71,"containerName":"challenge"},{"name":"req","kind":12,"line":71,"containerName":"challenge"},{"kind":12,"name":"headers","containerName":"challenge","line":71},{"containerName":"challenge","line":71,"kind":12,"name":"sec_websocket_key"},{"name":"$headers","kind":13,"line":71,"containerName":"challenge"},{"containerName":"challenge","line":71,"kind":12,"name":"sec_websocket_accept"}],"range":{"start":{"character":0,"line":64},"end":{"line":72,"character":9999}}},{"line":71,"kind":12,"name":"_challenge"},{"range":{"end":{"line":87,"character":9999},"start":{"character":0,"line":74}},"children":[{"line":75,"containerName":"client_handshake","definition":"my","localvar":"my","name":"$tx","kind":13},{"name":"$headers","kind":13,"localvar":"my","line":77,"definition":"my","containerName":"client_handshake"},{"name":"$tx","kind":13,"containerName":"client_handshake","line":77},{"line":77,"containerName":"client_handshake","kind":12,"name":"req"},{"kind":12,"name":"headers","containerName":"client_handshake","line":77},{"containerName":"client_handshake","line":78,"kind":13,"name":"$headers"},{"line":78,"containerName":"client_handshake","kind":12,"name":"upgrade"},{"name":"$headers","kind":13,"containerName":"client_handshake","line":78},{"line":78,"containerName":"client_handshake","kind":12,"name":"upgrade"},{"containerName":"client_handshake","line":79,"name":"$headers","kind":13},{"line":79,"containerName":"client_handshake","name":"connection","kind":12},{"containerName":"client_handshake","line":79,"kind":13,"name":"$headers"},{"containerName":"client_handshake","line":79,"kind":12,"name":"connection"},{"name":"$headers","kind":13,"containerName":"client_handshake","line":80},{"containerName":"client_handshake","line":80,"kind":12,"name":"sec_websocket_version"},{"containerName":"client_handshake","line":80,"name":"$headers","kind":13},{"kind":12,"name":"sec_websocket_version","containerName":"client_handshake","line":80},{"kind":13,"name":"$challenge","localvar":"my","line":83,"definition":"my","containerName":"client_handshake"},{"containerName":"client_handshake","line":84,"name":"$headers","kind":13},{"kind":12,"name":"sec_websocket_key","line":84,"containerName":"client_handshake"},{"name":"$challenge","kind":13,"containerName":"client_handshake","line":84},{"kind":13,"name":"$headers","line":84,"containerName":"client_handshake"},{"line":84,"containerName":"client_handshake","kind":12,"name":"sec_websocket_key"},{"kind":13,"name":"$tx","line":86,"containerName":"client_handshake"}],"kind":12,"name":"client_handshake","definition":"sub","containerName":"Mojo::WebSocket","line":74},{"line":83,"name":"b64_encode","kind":12},{"children":[{"line":90,"definition":"my","containerName":"parse_frame","kind":13,"name":"$buffer","localvar":"my"},{"containerName":"parse_frame","line":90,"kind":13,"name":"$max"},{"kind":13,"name":"$first","localvar":"my","definition":"my","containerName":"parse_frame","line":94},{"name":"$second","kind":13,"containerName":"parse_frame","line":94},{"definition":"my","containerName":"parse_frame","line":97,"name":"$fin","kind":13,"localvar":"my"},{"containerName":"parse_frame","line":97,"kind":13,"name":"$first"},{"line":100,"definition":"my","containerName":"parse_frame","kind":13,"name":"$rsv1","localvar":"my"},{"containerName":"parse_frame","line":100,"name":"$first","kind":13},{"containerName":"parse_frame","definition":"my","line":101,"localvar":"my","kind":13,"name":"$rsv2"},{"kind":13,"name":"$first","containerName":"parse_frame","line":101},{"line":102,"containerName":"parse_frame","definition":"my","localvar":"my","name":"$rsv3","kind":13},{"line":102,"containerName":"parse_frame","kind":13,"name":"$first"},{"definition":"my","containerName":"parse_frame","line":105,"name":"$op","kind":13,"localvar":"my"},{"name":"$first","kind":13,"line":105,"containerName":"parse_frame"},{"line":109,"definition":"my","containerName":"parse_frame","kind":13,"name":"$hlen","localvar":"my"},{"line":109,"containerName":"parse_frame","name":"$len","kind":13},{"line":109,"containerName":"parse_frame","name":"$second","kind":13},{"name":"$len","kind":13,"line":110,"containerName":"parse_frame"},{"name":"$len","kind":13,"line":113,"containerName":"parse_frame"},{"name":"$hlen","kind":13,"line":115,"containerName":"parse_frame"},{"line":116,"containerName":"parse_frame","kind":13,"name":"$len"},{"name":"$len","kind":13,"containerName":"parse_frame","line":121},{"containerName":"parse_frame","line":123,"kind":13,"name":"$hlen"},{"name":"$len","kind":13,"containerName":"parse_frame","line":124},{"containerName":"parse_frame","line":129,"name":"$len","kind":13},{"line":129,"containerName":"parse_frame","kind":13,"name":"$max"},{"containerName":"parse_frame","line":132,"kind":13,"name":"$len"},{"line":132,"definition":"my","containerName":"parse_frame","kind":13,"name":"$masked","localvar":"my"},{"containerName":"parse_frame","line":132,"name":"$second","kind":13},{"line":133,"containerName":"parse_frame","name":"$hlen","kind":13},{"containerName":"parse_frame","line":133,"name":"$len","kind":13},{"name":"$hlen","kind":13,"containerName":"parse_frame","line":134},{"line":137,"definition":"my","containerName":"parse_frame","kind":13,"name":"$payload","localvar":"my"},{"kind":13,"name":"$len","line":137,"containerName":"parse_frame"},{"name":"$len","kind":13,"containerName":"parse_frame","line":137},{"line":138,"containerName":"parse_frame","name":"$payload","kind":13},{"name":"$payload","kind":13,"containerName":"parse_frame","line":138},{"containerName":"parse_frame","line":138,"kind":13,"name":"$payload"},{"name":"$masked","kind":13,"line":138,"containerName":"parse_frame"},{"kind":13,"name":"$payload","line":139,"containerName":"parse_frame"},{"containerName":"parse_frame","line":141,"name":"$fin","kind":13},{"line":141,"containerName":"parse_frame","kind":13,"name":"$rsv1"},{"name":"$rsv2","kind":13,"containerName":"parse_frame","line":141},{"kind":13,"name":"$rsv3","containerName":"parse_frame","line":141},{"line":141,"containerName":"parse_frame","kind":13,"name":"$op"},{"kind":13,"name":"$payload","line":141,"containerName":"parse_frame"}],"kind":12,"definition":"sub","containerName":"Mojo::WebSocket","line":89,"range":{"start":{"line":89,"character":0},"end":{"line":142,"character":9999}},"detail":"($buffer,$max)","name":"parse_frame","signature":{"parameters":[{"label":"$buffer"},{"label":"$max"}],"label":"parse_frame($buffer,$max)","documentation":""}},{"line":93,"kind":12,"name":"buffer"},{"line":94,"name":"buffer","kind":12},{"kind":12,"name":"DEBUG","line":106},{"kind":12,"name":"DEBUG","line":110},{"name":"buffer","kind":12,"line":114},{"kind":12,"name":"buffer","line":116},{"kind":12,"name":"DEBUG","line":117},{"kind":12,"name":"buffer","line":122},{"kind":12,"name":"MODERN","line":124},{"name":"buffer","kind":12,"line":124},{"name":"buffer","kind":12,"line":124},{"name":"DEBUG","kind":12,"line":125},{"line":133,"kind":12,"name":"buffer"},{"kind":12,"name":"buffer","line":134},{"line":137,"kind":12,"name":"buffer"},{"line":138,"kind":12,"name":"xor_encode"},{"line":139,"name":"dumper","kind":12},{"line":139,"name":"DEBUG","kind":12},{"children":[{"line":145,"containerName":"server_handshake","definition":"my","localvar":"my","kind":13,"name":"$tx"},{"line":147,"definition":"my","containerName":"server_handshake","kind":13,"name":"$headers","localvar":"my"},{"name":"$tx","kind":13,"containerName":"server_handshake","line":147},{"name":"res","kind":12,"containerName":"server_handshake","line":147},{"name":"headers","kind":12,"line":147,"containerName":"server_handshake"},{"containerName":"server_handshake","line":148,"kind":13,"name":"$headers"},{"kind":12,"name":"upgrade","line":148,"containerName":"server_handshake"},{"line":148,"containerName":"server_handshake","name":"connection","kind":12},{"line":149,"containerName":"server_handshake","kind":13,"name":"$headers"},{"line":149,"containerName":"server_handshake","kind":12,"name":"sec_websocket_accept"},{"kind":13,"name":"$tx","line":149,"containerName":"server_handshake"},{"containerName":"server_handshake","line":149,"name":"req","kind":12},{"line":149,"containerName":"server_handshake","name":"headers","kind":12},{"line":149,"containerName":"server_handshake","kind":12,"name":"sec_websocket_key"},{"containerName":"server_handshake","line":151,"kind":13,"name":"$tx"}],"range":{"end":{"line":152,"character":9999},"start":{"line":144,"character":0}},"kind":12,"name":"server_handshake","containerName":"Mojo::WebSocket","definition":"sub","line":144},{"line":149,"name":"_challenge","kind":12},{"line":154,"containerName":"Mojo::WebSocket","definition":"sub","name":"_challenge","kind":12,"children":[],"range":{"end":{"line":154,"character":9999},"start":{"character":0,"line":154}}},{"name":"b64_encode","kind":12,"line":154},{"kind":12,"name":"sha1_bytes","line":154},{"line":154,"name":"GUID","kind":12}]}